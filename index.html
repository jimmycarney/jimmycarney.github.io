<!DOCTYPE html>
<html>
<head>
<!--load the AngularJS library in the head so that calls to angular.module can be compiled-->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>
<script src ="indexController.js"></script>
<style>
    body{
        background: rgb(146,168,209);
        background: linear-gradient(90deg, rgba(146,168,209,1) 0%, rgba(73,84,105,1) 100%);
    }
    #tabs{
        width: 350px;
        margin: 0 auto;
        text-align: center;
    }
    .center-content{
        width: 800px;
        margin: 0 auto;
    }
    .tab{
        text-align: center;
        border: 1px solid #495469;
        border-radius: 3px;
        display: inline-block;
        padding: 5px;
        width: 80px;
    }
    .tab:hover{
        background: #495469;
        cursor: pointer;
    }
    #movieTabs{
        width: 700px;
        margin: 0 auto;
    }
    #movieTabs p, #sportsTabs p{
        text-align: center;
        border: 1px solid #495469;
        border-radius: 3px;
        display: inline-block;
        padding: 3px;
        width: 105px;
    }
    #movieTabs p:hover, #sportsTabs p:hover{
        background: #495469;
        cursor: pointer;
    }
    .movieTitle{
        text-align: center;
        display: inline-block;
        width: 19%
    }
    .movieTitle:hover{
        cursor: pointer;
    }
    .movieTitle img{
        height: 100px;
    }
    #moviePopup{
        position: fixed;
        text-align: center;
        width: 600px;
        height: 650px;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        margin: auto;
        background-color: white;
        padding: 10px;
        box-shadow: 5px 5px 70px #000000;
        cursor: pointer;
    }
    #movieInfo p, #movieScores p{
        display: inline;
        margin-right: 15px;
    }
    #movieInfo, #movieScores{
        margin-top: 20px;
    }
    #sportsTabs{
        width: 500px;
        margin: 0 auto;
    }
    .teamRecord{
        width: 250px;
        margin: 0 auto;
        text-align: center;
    }
    .teamRecord p{
        display: inline-block;
        font-size: 35px;
        margin-right: 10px;
    }
    table{
        width: 600px;
        margin: 0 auto;
        border-collapse: collapse;
    }
    .statsTable tr{
        padding: 2px;
        border-bottom: 1px solid black;
    }
    .statsTable th{
        cursor: pointer;
    }
    .statsTable th, td{
        padding-right: 10px;
    }
    .statsTable{
        margin-bottom: 25px;
        text-align: left;
    }
    .statsTable caption{
        margin-bottom: 10px;
        font-size: 20px;
    }
    #philliesTrans tbody{
        display: inline-block;
        height: 350px;
        overflow-y: scroll;
    }
    #philliesTrans td{
        background-color: #d0d0d0;
    }
</style>
<body>
    <!--ng-app defines the AngularJS app-->
    <!--ng-controller defines the controller-->
    <!--ng-init initializes and application variable (add ng-init="name='Jimmy'" to div tag)-->
    <div ng-app="myApp" ng-controller="myCtrl">

        <!-- <h2>Jimmy Carney</h2> -->

        <div id = "header">

        </div>

        <div id = "tabs">
            <p class = "tab" ng-click = "loadContent('home')" id = "homeTab">Home</p>
            <p class = "tab" ng-click = "loadContent('movies')" id = "moviesTab">Movies</p>
            <p class = "tab" ng-click = "loadContent('sports')" id = "sportsTab">Sports</p>
        </div>

        <!--HOME PAGE-->

        <div id="home" class="center-content" ng-show="home">
            <p>Home Div</p>
        </div>

        <!--END OF HOME PAGE-->

        <!--MOVIES PAGE-->

        <div id="movies" class="center-content" ng-show="movies">
            <div id = "movieTabs">
                <p ng-click = "selectGenre('all')" id = "allTab">All</p>
                <p ng-click = "selectGenre('scifi')" id = "scifiTab">Science Fiction</p>
                <p ng-click = "selectGenre('drama')" id = "dramaTab">Drama</p>
                <p ng-click = "selectGenre('thriller')" id = "thrillerTab">Thriller</p>
                <p ng-click = "selectGenre('crime')" id = "crimeTab">Crime</p>
                <p ng-click = "selectGenre('unique')" id = "uniqueTab">Very Unique</p>
                <p ng-click = "selectGenre('superhero')" id = "superheroTab">Superhero</p>
            </div>
            <div id = "moviePopup" ng-show = "showPopup" ng-click = "hidePopup()">
                <img id = "moviePoster" src="">
                <div id = "movieInfo">
                    <p ng-bind = "movieTitle"></p>
                    <p>&bull;</p>
                    <p ng-bind = "movieRating"></p>
                    <p>&bull;</p>
                    <p ng-bind = "movieRuntime"></p>
                </div>
                <div id = "movieScores">
                    <p ng-bind = "movieRTScore"></p>
                    <p>&bull;</p>
                    <p ng-bind = "movieIMDBScore"></p>
                    <p>&bull;</p>
                    <p ng-bind = "movieMetaScore"></p>
                </div>
                <p ng-bind = "moviePlot"></p>
            </div>
            <div class = "movieList">
                <div ng-repeat = "movie in moviesList | orderBy: '-rating' | filter: (genreFilter || '') && {genre:movieGenre}" class = "movieTitle" ng-click = "testMovieAPI(movie.title)">
                    <img ng-src = "{{movie.imageSrc}}" />
                    <p>{{movie.title}} ({{movie.rating}}%)</p>
                </div>
            </div>
        </div>

        <!--END OF MOVIES PAGE-->

        <!--SPORTS PAGE-->

        <div id="sports" class="center-content" ng-show="sports">
            <div id = "sportsTabs">
                <p ng-click = "loadEaglesData()">Eagles</p>
                <p ng-click = "loadSixersData()">Sixers</p>
                <p ng-click = "loadPhilliesData()">Phillies</p>
                <p ng-click = "loadFlyersData()">Flyers</p>
            </div>
            <div id = "eaglesDiv" ng-show = "selectedTeam == 'eagles'">
                <div class = "teamRecord">
                    <p>Eagles:</p>
                    <p>{{eaglesStats.record.wins}}-{{eaglesStats.record.losses}}-{{eaglesStats.record.ties}}</p>
                </div>
                <table class = "statsTable">
                    <caption>Eagles Passing Leaders</caption>
                    <tr>
                        <th>Name</th>
                        <th>Cmp</th>
                        <th>Att</th>
                        <th>Cmp%</th>
                        <th>Yrds</th>
                        <th>TD</th>
                        <th>Int</th>
                        <th>Rate</th>
                    </tr>
                    <tr ng-repeat = "player in eaglesStats.passing">
                        <td>{{player.last_name}}, {{player.first_name}}</td>
                        <td>{{player.cmp}}</td>
                        <td>{{player.att}}</td>
                        <td>{{player.cmp_perc}}</td>
                        <td>{{player.yrds}}</td>
                        <td>{{player.td}}</td>
                        <td>{{player.int}}</td>
                        <td>{{player.rate}}</td>
                    </tr>
                </table>
                <table class = "statsTable">
                    <caption>Eagles Rushing Leaders</caption>
                    <tr>
                        <th>Name</th>
                        <th>Att</th>
                        <th>Yrds</th>
                        <th>TD</th>
                    </tr>
                    <tr ng-repeat = "player in eaglesStats.rushing">
                        <td>{{player.last_name}}, {{player.first_name}}</td>
                        <td>{{player.att}}</td>
                        <td>{{player.yrds}}</td>
                        <td>{{player.td}}</td>
                    </tr>
                </table>
                <table class = "statsTable">
                    <caption>Eagles Receiving Leaders</caption>
                    <tr>
                        <th>Name</th>
                        <th>Rec</th>
                        <th>Yrds</th>
                        <th>TD</th>
                    </tr>
                    <tr ng-repeat = "player in eaglesStats.receiving">
                        <td>{{player.last_name}}, {{player.first_name}}</td>
                        <td>{{player.rec}}</td>
                        <td>{{player.yrds}}</td>
                        <td>{{player.td}}</td>
                    </tr>
                </table>
            </div>
            <div id = "sixersDiv" ng-show = "selectedTeam == 'sixers'">
                <div class = "teamRecord">
                    <p>Sixers:</p>
                    <p>{{sixersRecord}}</p>
                </div>
            </div>
            <div id = "philliesDiv" ng-show = "selectedTeam == 'phillies'">
                <div class = "teamRecord">
                    <p>Phillies:</p>
                    <p>28-32</p>
                </div>
                <table class = "statsTable">
                    <caption>Phillies Hitting Leaders</caption>
                    <tr>
                        <th ng-click = "setTableVar('name_display_first_last')">Player</th>
                        <th ng-click = "setTableVar('pos')">Position</th>
                        <th ng-click = "setTableVar('avg')">Avg</th>
                        <th ng-click = "setTableVar('h')">Hits</th>
                        <th ng-click = "setTableVar('ab')">AB</th>
                        <th ng-click = "setTableVar('hr')">HR</th>
                        <th ng-click = "setTableVar('rbi')">RBI</th>
                        <th ng-click = "setTableVar('obp')">OBP</th>
                        <th ng-click = "setTableVar('slg')">SLG</th>
                        <th ng-click = "setTableVar('so')">SO</th>
                        <th ng-click = "setTableVar('bb')">BB</th>
                    </tr>
                    <tr ng-repeat = "player in philliesLeaders | orderBy: statTableVar">
                        <td>{{player.name_display_first_last}}</td>
                        <td>{{player.pos}}</td>
                        <td>{{player.avg}}</td>
                        <td>{{player.h}}</td>
                        <td>{{player.ab}}</td>
                        <td>{{player.hr}}</td>
                        <td>{{player.rbi}}</td>
                        <td>{{player.obp}}</td>
                        <td>{{player.slg}}</td>
                        <td>{{player.so}}</td>
                        <td>{{player.bb}}</td>
                    </tr>
                </table>
                <div id = "philliesTrans">
                    <table class = "statsTable">
                        <caption>Phillies Recent Transactions</caption>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Transaction</th>
                        </tr>
                        <tr ng-repeat = "transaction in philliesTransactions | orderBy: '-trans_date'">
                            <td>{{transaction.trans_date}}</td>
                            <td>{{transaction.type}}</td>
                            <td>{{transaction.note}}</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div id = "flyersDiv" ng-show = "selectedTeam == 'flyers'">
                <div class = "teamRecord">
                    <p>Flyers:</p>
                    <p>{{flyersRecord}}</p>
                </div>
            </div>
        </div>

        <!--END OF SPORTS PAGE-->

        <!--EXAMPLE CODE-->

        <!--ng-model binds the value of HTML controls to an application variable-->
        <!--the binding goes both ways, changing value in input field changes app variable-->
        <!-- EXAMPLE CODE <p>Name: <input type = "text" ng-model = "name"></p> -->

        <!--ng-bind binds an application variable to the HTML view-->
        <!-- EXAMPLE CODE <p ng-bind = "name"></p> -->
        <!--application variables can be written in expressions (data binding)-->
        <!-- EXAMPLE CODE <p>{{ name }}</p> -->
        <!--can add ng-init="names=[{name:'Jimmy',work:'ISC'},{name:'Randy',work:'ISC'},{name:'Zach',work:'VUMC'}]" to div tag-->
        <!-- EXAMPLE CODE <div>
            <ul>
                ng-repeat repeats an HTML element(once for each item in collection)
                <li ng-repeat="x in names">
                    {{ x.name + ": " + x.work }}
                </li>
            </ul>
        </div> -->
        <!--directive defined above as testDirective (use dashes in html)-->
        <test-directive></test-directive>
    </div>

</body>
</html>